Window = require "api/window"
Frame = Window:createFrame()
--print("a")
x,y = term.getSize()
Frame:setPos({2,2})
Frame:setSize({9,8})
Frame:setBackgroundColor(colors.green)
Frame2 = Frame:createFrame()
Frame2:setPos({2,2})
Frame2:setSize({7,6})
Frame2:setBackgroundColor(colors.orange)
Frame3 = Frame2:createFrame()
Frame3:setPos({2,2})
Frame3:setSize({5,4})
Frame3:setBackgroundColor(colors.pink)
Button = Frame3:createButton()
Label = Frame3:createLabel()
function ButtonHandler(obj,event)
    if(event[1]=="mouse_click")then
        Frame2:setPos({math.random(30),math.random(3)})
    end
end
Button:setText("Hello")
Button:bind(ButtonHandler)
--Button:setBackgroundColor(colors.red)
function EventHandling()
    while 1 do 
        event = {os.pullEvent()}
        Window:eventHandler(event)
    end
end
function Main()
    while 1 do 
        Window:Update()
        sleep(0)
    end
end
parallel.waitForAny(Main,EventHandling)